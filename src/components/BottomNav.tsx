"use client";

import { usePhotoFlow } from "@/providers/PhotoFlowProvider";
import Link from "next/link";
import { usePathname } from "next/navigation";
import React from "react";

export default function BottomNav() {
  const pathname = usePathname();
  const { setActiveTab, setTargetYear } = usePhotoFlow();
  const currentYear = new Date().getFullYear();

  return (
    <nav
      className={`fixed bottom-0 left-0 right-0  h-[103px] w-full bg-[var(--brand-bg)]`}
    >
      <div className="flex flex-row justify-evenly items-center h-full">
        <Link
          href="/places"
          className="flex flex-col items-center h-[49px] w-[86px] justify-between cursor-pointer"
          onClick={() => {
            setActiveTab("places");
            setTargetYear(currentYear);
          }}
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10 20C8.61667 20 7.31667 19.7375 6.1 19.2125C4.88333 18.6875 3.825 17.975 2.925 17.075C2.025 16.175 1.3125 15.1167 0.7875 13.9C0.2625 12.6833 0 11.3833 0 10C0 8.61667 0.2625 7.31667 0.7875 6.1C1.3125 4.88333 2.025 3.825 2.925 2.925C3.825 2.025 4.88333 1.3125 6.1 0.7875C7.31667 0.2625 8.61667 0 10 0C11.3833 0 12.6833 0.2625 13.9 0.7875C15.1167 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61667 20 10C20 11.3833 19.7375 12.6833 19.2125 13.9C18.6875 15.1167 17.975 16.175 17.075 17.075C16.175 17.975 15.1167 18.6875 13.9 19.2125C12.6833 19.7375 11.3833 20 10 20ZM9 17.95V16C8.45 16 7.97917 15.8042 7.5875 15.4125C7.19583 15.0208 7 14.55 7 14V13L2.2 8.2C2.15 8.5 2.10417 8.8 2.0625 9.1C2.02083 9.4 2 9.7 2 10C2 12.0167 2.6625 13.7833 3.9875 15.3C5.3125 16.8167 6.98333 17.7 9 17.95ZM15.9 15.4C16.5833 14.65 17.1042 13.8125 17.4625 12.8875C17.8208 11.9625 18 11 18 10C18 8.36667 17.5458 6.875 16.6375 5.525C15.7292 4.175 14.5167 3.2 13 2.6V3C13 3.55 12.8042 4.02083 12.4125 4.4125C12.0208 4.80417 11.55 5 11 5H9V7C9 7.28333 8.90417 7.52083 8.7125 7.7125C8.52083 7.90417 8.28333 8 8 8H6V10H12C12.2833 10 12.5208 10.0958 12.7125 10.2875C12.9042 10.4792 13 10.7167 13 11V14H14C14.4333 14 14.825 14.1292 15.175 14.3875C15.525 14.6458 15.7667 14.9833 15.9 15.4Z"
              fill={pathname === "/places" ? "var(--brand-text)" : "#BDBDBD"}
            />
          </svg>
          <p
            className={`text-sm leading-[120%] text-${
              pathname === "/places"
                ? "[var(--brand-text)]"
                : "[var(--brand-inactive)]"
            }`}
          >
            Places
          </p>
        </Link>

        <Link
          href="/date"
          className="flex flex-col items-center h-[49px] w-[86px] justify-between cursor-pointer"
          onClick={() => {
            setActiveTab("date");
            setTargetYear(currentYear);
          }}
        >
          <svg
            width="18"
            height="20"
            viewBox="0 0 18 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M2 20C1.45 20 0.979167 19.8042 0.5875 19.4125C0.195833 19.0208 0 18.55 0 18V4C0 3.45 0.195833 2.97917 0.5875 2.5875C0.979167 2.19583 1.45 2 2 2H3V0H5V2H13V0H15V2H16C16.55 2 17.0208 2.19583 17.4125 2.5875C17.8042 2.97917 18 3.45 18 4V18C18 18.55 17.8042 19.0208 17.4125 19.4125C17.0208 19.8042 16.55 20 16 20H2ZM2 18H16V8H2V18ZM2 6H16V4H2V6ZM9 12C8.71667 12 8.47917 11.9042 8.2875 11.7125C8.09583 11.5208 8 11.2833 8 11C8 10.7167 8.09583 10.4792 8.2875 10.2875C8.47917 10.0958 8.71667 10 9 10C9.28333 10 9.52083 10.0958 9.7125 10.2875C9.90417 10.4792 10 10.7167 10 11C10 11.2833 9.90417 11.5208 9.7125 11.7125C9.52083 11.9042 9.28333 12 9 12ZM5 12C4.71667 12 4.47917 11.9042 4.2875 11.7125C4.09583 11.5208 4 11.2833 4 11C4 10.7167 4.09583 10.4792 4.2875 10.2875C4.47917 10.0958 4.71667 10 5 10C5.28333 10 5.52083 10.0958 5.7125 10.2875C5.90417 10.4792 6 10.7167 6 11C6 11.2833 5.90417 11.5208 5.7125 11.7125C5.52083 11.9042 5.28333 12 5 12ZM13 12C12.7167 12 12.4792 11.9042 12.2875 11.7125C12.0958 11.5208 12 11.2833 12 11C12 10.7167 12.0958 10.4792 12.2875 10.2875C12.4792 10.0958 12.7167 10 13 10C13.2833 10 13.5208 10.0958 13.7125 10.2875C13.9042 10.4792 14 10.7167 14 11C14 11.2833 13.9042 11.5208 13.7125 11.7125C13.5208 11.9042 13.2833 12 13 12ZM9 16C8.71667 16 8.47917 15.9042 8.2875 15.7125C8.09583 15.5208 8 15.2833 8 15C8 14.7167 8.09583 14.4792 8.2875 14.2875C8.47917 14.0958 8.71667 14 9 14C9.28333 14 9.52083 14.0958 9.7125 14.2875C9.90417 14.4792 10 14.7167 10 15C10 15.2833 9.90417 15.5208 9.7125 15.7125C9.52083 15.9042 9.28333 16 9 16ZM5 16C4.71667 16 4.47917 15.9042 4.2875 15.7125C4.09583 15.5208 4 15.2833 4 15C4 14.7167 4.09583 14.4792 4.2875 14.2875C4.47917 14.0958 4.71667 14 5 14C5.28333 14 5.52083 14.0958 5.7125 14.2875C5.90417 14.4792 6 14.7167 6 15C6 15.2833 5.90417 15.5208 5.7125 15.7125C5.52083 15.9042 5.28333 16 5 16ZM13 16C12.7167 16 12.4792 15.9042 12.2875 15.7125C12.0958 15.5208 12 15.2833 12 15C12 14.7167 12.0958 14.4792 12.2875 14.2875C12.4792 14.0958 12.7167 14 13 14C13.2833 14 13.5208 14.0958 13.7125 14.2875C13.9042 14.4792 14 14.7167 14 15C14 15.2833 13.9042 15.5208 13.7125 15.7125C13.5208 15.9042 13.2833 16 13 16Z"
              //   fill="#BDBDBD"
              fill={pathname === "/date" ? "var(--brand-text)" : "#BDBDBD"}
            />
          </svg>
          <p
            className={`text-sm leading-[120%] text-${
              pathname === "/date"
                ? "[var(--brand-text)]"
                : "[var(--brand-inactive)]"
            }`}
          >
            {" "}
            Date
          </p>
        </Link>

        <Link
          href="/people"
          className="flex flex-col items-center h-[49px] w-[86px] justify-between cursor-pointer"
          onClick={() => {
            setActiveTab("people");
            setTargetYear(currentYear);
          }}
        >
          <svg
            width="22"
            height="20"
            viewBox="0 0 22 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11 9.57887C9.6525 9.57887 8.49902 9.10996 7.53955 8.17215C6.57985 7.2341 6.1 6.10653 6.1 4.78944C6.1 3.47234 6.57985 2.34489 7.53955 1.40707C8.49902 0.469023 9.6525 0 11 0C12.3475 0 13.501 0.469023 14.4605 1.40707C15.4201 2.34489 15.9 3.47234 15.9 4.78944C15.9 6.10653 15.4201 7.2341 14.4605 8.17215C13.501 9.10996 12.3475 9.57887 11 9.57887ZM0.5 20V16.9577C0.5 16.2876 0.6862 15.667 1.0586 15.096C1.431 14.5249 1.9287 14.0858 2.5517 13.7789C3.93537 13.1159 5.33128 12.6186 6.73945 12.287C8.14762 11.9553 9.5678 11.7895 11 11.7895C12.4322 11.7895 13.8524 11.9553 15.2605 12.287C16.6687 12.6186 18.0646 13.1159 19.4483 13.7789C20.0713 14.0858 20.569 14.5249 20.9414 15.096C21.3138 15.667 21.5 16.2876 21.5 16.9577V20H0.5ZM2.6 17.9474H19.4V16.9577C19.4 16.6806 19.3179 16.424 19.1536 16.188C18.9893 15.9521 18.7664 15.7596 18.4847 15.6105C17.2784 15.0298 16.0485 14.5899 14.795 14.2907C13.5413 13.9917 12.2763 13.8422 11 13.8422C9.72367 13.8422 8.45865 13.9917 7.20495 14.2907C5.95148 14.5899 4.72158 15.0298 3.51525 15.6105C3.23362 15.7596 3.01067 15.9521 2.8464 16.188C2.68213 16.424 2.6 16.6806 2.6 16.9577V17.9474ZM11 7.52626C11.77 7.52626 12.4292 7.25828 12.9775 6.72232C13.5258 6.18635 13.8 5.54206 13.8 4.78944C13.8 4.03681 13.5258 3.39252 12.9775 2.85656C12.4292 2.3206 11.77 2.05262 11 2.05262C10.23 2.05262 9.57083 2.3206 9.0225 2.85656C8.47417 3.39252 8.2 4.03681 8.2 4.78944C8.2 5.54206 8.47417 6.18635 9.0225 6.72232C9.57083 7.25828 10.23 7.52626 11 7.52626Z"
              fill={pathname === "/people" ? "var(--brand-text)" : "#BDBDBD"}
            />
          </svg>
          <p
            className={`text-sm leading-[120%] text-${
              pathname === "/people"
                ? "[var(--brand-text)]"
                : "[var(--brand-inactive)]"
            }`}
          >
            People
          </p>
        </Link>
      </div>
    </nav>
  );
}
